در این بخش، به بررسی `pgvector` می‌پردازیم. `pgvector` یکی از صدها افزونه (`extension`) موجود برای PostgreSQL است، اما به دلیل پیشرفت‌های اخیر در حوزه هوش مصنوعی (AI)، یکی از محبوب‌ترین و مرتبط‌ترین آن‌هاست.

---

### **۱. `pgvector` چیست؟**

`pgvector` یک افزونه برای PostgreSQL است که به شما امکان **ذخیره‌سازی و کوئری زدن روی بردارهای امبدینگ (vector embeddings)** را می‌دهد.

---

### **۲. بردار امبدینگ (Vector Embedding) چیست؟**

یک بردار امبدینگ، به زبان ساده، یک **آرایه طولانی از اعداد اعشاری (floating point numbers)** است.

فرآیند کار به این صورت است: شما یک ورودی (مانند یک تصویر، یک داکیومنت یا یک قطعه متن) را به یک مدل هوش مصنوعی (مانند مدل‌های OpenAI، Gemini یا Llama) ارسال می‌کنید. خروجی که از مدل دریافت می‌کنید، همین آرایه طولانی از اعداد است. اگرچه معنای دقیق این اعداد ممکن است کمی مبهم باشد، اما آن‌ها یک نمایش عددی از ورودی شما در یک فضای چند بعدی هستند.

---

### **۳. کاربرد اصلی بردارهای امبدینگ: سنجش شباهت (Similarity)**

قدرت واقعی بردارهای امبدینگ در قابلیت **مقایسه و سنجش شباهت** آن‌ها با یکدیگر نهفته است. شما می‌توانید با مقایسه بردار امبدینگ دو ورودی مختلف، میزان شباهت معنایی آن‌ها را تعیین کنید.

این قابلیت، پیاده‌سازی ویژگی‌های پیشرفته‌ای را ممکن می‌سازد:

*   **سیستم‌های توصیه‌گر (Recommendation Systems):** مانند پیشنهاد مقاله بعدی برای خواندن، یا پیشنهاد محصول مرتبط در یک فروشگاه آنلاین بر اساس محتوای سبد خرید.
*   **جستجوی معنایی (Semantic Search):** نوعی جستجوی پیشرفته‌تر و انعطاف‌پذیرتر از جستجوی تمام‌متن (`Full-Text Search`) که به جای تطابق کلمات، بر اساس شباهت معنایی و مفهومی عمل می‌کند.

---

### **۴. نقشه راه این بخش**

در این بخش، ما موارد زیر را پوشش خواهیم داد:

1.  نصب و فعال‌سازی افزونه `pgvector`.
2.  ایجاد ستون‌هایی از نوع بردار (`vector`).
3.  کوئری زدن روی این ستون‌ها.
4.  انجام جستجوی نزدیک‌ترین همسایه (`nearest neighbor search`).
5.  افزودن ایندکس‌های مخصوص بردارها برای افزایش سرعت جستجو.

`pgvector` یک ابزار بسیار گسترده و قدرتمند است و ما در این بخش بر روی کاربردهای اصلی و میانی آن تمرکز خواهیم کرد. در پایان این بخش، شما قادر خواهید بود تا قابلیت‌های جستجوی برداری را به طور کامل در PostgreSQL پیاده‌سازی کنید.

---

### **۵. یک مزیت بزرگ: عدم نیاز به پایگاه داده مجزا**

یکی از بزرگترین مزایای استفاده از `pgvector` این است که شما برای کار با بردارهای امبدینگ، نیازی به یک **پایگاه داده برداری مجزا (separate vector database)** ندارید. PostgreSQL به تنهایی می‌تواند تمام این کارها را برای شما انجام دهد.