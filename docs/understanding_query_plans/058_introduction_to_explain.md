### **جلسه ۵۸: مقدمه‌ای بر EXPLAIN**

تا به اینجا در طول دوره، چندین بار به خروجی `EXPLAIN` نگاه کرده‌ایم، اما به دلیل خارج از محدوده بودن، عمیقاً به آن نپرداخته‌ایم. خبر خوب این است که اکنون زمان آن رسیده که به طور کامل با این ابزار قدرتمند آشنا شویم.

---

#### **۱. هدف این بخش: درک عمیق طرح‌های اجرایی**

در این بخش، به جنبه‌های مختلف طرح‌های اجرایی (explain plans) خواهیم پرداخت. ما موضوعاتی مانند فرمت‌های مختلف، تنظیمات گوناگون، انواع گره‌ها (node types) و نحوه خواندن خروجی `EXPLAIN` (که تورفتگی‌های خاص خود را دارد) را بررسی خواهیم کرد.

یادگیری این مهارت‌ها و استفاده از داده‌های حاصل از آن برای بهینه‌سازی کوئری‌ها، شما را از دیگران متمایز کرده و به شما یک برتری قابل توجه در زمینه عملکرد پایگاه داده می‌بخشد.

---

#### **۲. چرا درک طرح اجرایی مهم است؟**

درک این موضوع از آن جهت حیاتی است که وقتی شما یک کوئری را به پایگاه داده ارسال می‌کنید، به آن می‌گویید **"چه چیزی"** را می‌خواهید، نه **"چگونه"** آن را انجام دهد.

پایگاه داده در داخل خود، باید با بررسی عوامل مختلفی مانند ایندکس‌های موجود، آمارهای (statistics) مربوط به توزیع داده‌ها و خود داده‌ها، بهترین و بهینه‌ترین راه را برای اجرای کوئری شما پیدا کند. این فرآیند تصمیم‌گیری بر اساس **محاسبه هزینه‌ها (costs)** انجام می‌شود. پایگاه داده روش‌های مختلف ممکن را ارزیابی کرده و هر کدام را با یک هزینه تخمینی مرتبط می‌کند و در نهایت، مسیری را که کمترین هزینه را دارد، انتخاب می‌کند.

---

#### **۳. `EXPLAIN` در مقابل `EXPLAIN ANALYZE`**

حتی اگر فکر می‌کنید می‌دانید که پایگاه داده قرار است چه کاری انجام دهد، همیشه ایده خوبی است که ابتدا یک `EXPLAIN` روی کوئری خود اجرا کنید تا طرح اجرایی تخمینی را ببینید.

اگر با یک کوئری مشکل‌ساز مواجه شدید و نیاز به اطلاعات دقیق‌تری داشتید، می‌توانید از `EXPLAIN ANALYZE` استفاده کنید. این دستور علاوه بر نمایش طرح اجرایی، کوئری را **واقعاً اجرا کرده** و زمان‌بندی و آمارهای واقعی را نیز به شما نشان می‌دهد.

ما در این بخش، تمام این موارد را به تفصیل بررسی خواهیم کرد.
